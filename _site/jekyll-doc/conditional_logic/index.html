<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- <link href='//fonts.googleapis.com/css?family=Montserrat:700,400' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic' rel='stylesheet' type='text/css'> -->
     <link rel="stylesheet" href="/jekyll-doc/stylesheets/syntax.css"  type='text/css'>
     <link rel="stylesheet" href="/jekyll-doc/stylesheets/font-awesome.min.css">
     <link rel="stylesheet" href="/jekyll-doc/stylesheets/bootstrap.min.css">
     <link rel="stylesheet" href="/jekyll-doc/stylesheets/modern-business.css">
    <link rel="stylesheet" href="/jekyll-doc/stylesheets/lavish-bootstrap.css"  type='text/css'>
    <link rel="canonical" href="http://tomjohnson1492.github.io/jekyll-doc/conditional_logic/">
    <link rel="stylesheet" href="/jekyll-doc/stylesheets/customstyles.css"  type='text/css'>
    <link rel="canonical" href="http://tomjohnson1492.github.io/jekyll-doc/conditional_logic/">
  <link rel="alternate" type="application/rss+xml" title="Jekyll-doc" href="http://tomjohnson1492.github.io/jekyll-doc/feed.xml" />
    <script src="/jekyll-doc/js/jquery.min.js"></script>
    <script src="/jekyll-doc/js/jquery.cookie.min.js"></script>
    <script src="/jekyll-doc/js/jquery.navgoco.min.js"></script>
    <script src="/jekyll-doc/js/bootstrap.min.js"></script>
    <script src="/jekyll-doc/js/toc.js"></script>
    <script src=""></script>
       <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <title>Conditional logic | Jekyll-doc</title>
     <meta name="description" content="A theme based on Jekyll designed for technical writers creating help systems. Feel free to clone, fork, and otherwise use. It's all open source and free to implement.  Please consider contributing back any innovations you make so that others can benefit.
">
 
  </head>

<body>


    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                 <a class="fa fa-home fa-lg navbar-brand" href="/jekyll-doc/">&nbsp; Jekyll-doc</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

<!-- entries without drop-downs appear here -->
  
  

  

      
    
      <li><a href="/jekyll-doc/about/">About</a></li>
    
    
     
    

  

      
    
      <li><a href="/jekyll-doc/contact/">Contact</a></li>
    
    
     
    

  

      
    
      <li><a href="/jekyll-doc/latest_posts/">News</a></li>
    
    
     
    

  
  <li><a href="https://github.com/tomjohnson1492/jekyll-doc" target="_blank">My Github Repo</a></li>
  
     
    


<!-- entries with drop-downs appear here -->

  
  
    <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting started<b class="caret"></b></a>
         <ul class="dropdown-menu">
         

           
         
         
       <li><a href="/jekyll-doc/hello_world_tutorial/">Hello World tutorial</a></li>
       
       
    

           
         
         
       <li><a href="/jekyll-doc/sample/">Sample</a></li>
       
       
    

           
  <li><a href="http://idratherbewriting.com" target="_blank">I'd Rather Be Writing</a></li>
  
    
    </ul>
    </li>
  
    <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">More drop-downs<b class="caret"></b></a>
         <ul class="dropdown-menu">
         

           
         
         
       <li><a href="/jekyll-doc/alerts/">Alerts</a></li>
       
       
    

           
         
         
       <li><a href="/jekyll-doc/labels/">Labels</a></li>
       
       
    

           
         
         
       <li><a href="/jekyll-doc/tables/">Tables</a></li>
       
       
    
    </ul>
    </li>
  
 

 <!-- search form appears here -->
<li>
 <!-- start search -->
   <div id="search-demo-container">
      <input type="text" id="search-input" placeholder="search...">
      <ul id="results-container"></ul>
    </div>

    
    <script src="/jekyll-doc/js/jekyll-search.js" type="text/javascript"></script>
    
    
    <script type="text/javascript">
      SimpleJekyllSearch.init({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        dataSource: '/jekyll-doc/search.json',        
        searchResultTemplate: '<li><a href="{url}" title="">{title}</a></li>',
        noResultsText: 'No results found',
        limit: 10,
        fuzzy: true,
      })
    </script>
    <!-- end search -->
 </li>

        </div>

        <!-- /.container -->
    </nav>


    <!-- Page Content -->
    <div class="container">
    <div class="col-lg-12">&nbsp;</div>

        <!-- Page Heading/Breadcrumbs -- site not hierarchical enough to support this feature well enough.
        <div class="row">
            <div class="col-lg-12">
               <h1 class="page-header">Conditional logic
                    <small></small>
                </h1> 
                &nbsp;
                <ol class="breadcrumb">
                    <li><a href="/jekyll-doc/">Home</a> Home</li>
                    
                    <li>conditional_filtering</li>
                    <li Conditional logic</li>
                    
                </ol>
            </div>
        </div>
        -->




 <!-- Content Row -->
        <div class="row">
            <!-- Sidebar Column -->
            <div class="col-md-3">

<script>
$(document).ready(function() {
    // Initialize navgoco with default options
    $("#mysidebar").navgoco({
        caretHtml: '',
        accordion: false,
        openClass: 'active', // open
        save: true,
        cookie: {
            name: 'navgoco',
            expires: false,
            path: '/'
        },
        slide: {
            duration: 400,
            easing: 'swing'
        }
    });

    $("#collapseAll").click(function(e) {
        e.preventDefault();
        $("#mysidebar").navgoco('toggle', false);
    });

    $("#expandAll").click(function(e) {
        e.preventDefault();
        $("#mysidebar").navgoco('toggle', true);
    });
});

</script>
  
<!-- note that the data file for your project needs to be specified in the code below. Instead of site.data.jekyll, use the data file corresponding to your project (create one if it doesn't already exist). -->

<ul id="mysidebar" class="nav">


  
  
    <li><a href="#">Getting started</a>
    <ul>
    
    
      
      <li><a href="/jekyll-doc/creating_projects/">Creating a new project</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/prerequisites/">Prerequisites</a></li>
    
     
    
    </ul>
    </li>
  
    <li><a href="#">Creating content</a>
    <ul>
    
    
      
      <li><a href="/jekyll-doc/writing_content/">Writing content</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/creating_toc/">Creating a table of contents</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/creating_topnav/">Creating the top navigation bar</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/collections/">Collections</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/cshelp/">Context-sensitive help</a></li>
    
     
    
    
  <li><a href="http://google.com" target="_blank">Google</a></li>
  
    
    </ul>
    </li>
  
    <li><a href="#">Formatting content</a>
    <ul>
    
    
      
      <li><a href="/jekyll-doc/icons/">Icons</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/tables/">Tables</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/markdown_readability/">Markdown readability</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/links/">Links</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/syntax_highlighting/">Syntax highlighting</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/images/">Images</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/labels/">Labels</a></li>
    
     
    
    </ul>
    </li>
  
    <li><a href="#">Publishing</a>
    <ul>
    
    
      
      <li><a href="/jekyll-doc/collections/">Collections</a></li>
    
     
    
    
      
      <li class="active"><a href="/jekyll-doc/conditional_logic" class="active">Conditional logic</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/cshelp/">Context-sensitive help</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/tags/">Tags</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/snippets/">Snippets</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/lavish/">Lavish</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/page_level_variables/">Page level variables</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/build_arguments/">Build arguments</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/building_jekyll_themes/">Building Jekyll themes</a></li>
    
     
    
    </ul>
    </li>
  
    <li><a href="#">Blog posts</a>
    <ul>
    
    
      
      <li><a href="/jekyll-doc/add_blog/">Writing blog posts</a></li>
    
     
    
    </ul>
    </li>
  
    <li><a href="#">Special effects</a>
    <ul>
    
    
      
      <li><a href="/jekyll-doc/shuffle/">Shuffle</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/scroll/">Scroll</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/search/">Search</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/gemfiles/">gemfiles</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/creating_print_output/">Creating print output</a></li>
    
     
    
    </ul>
    </li>
  
    <li><a href="#">How to publish</a>
    <ul>
    
    
      
      <li><a href="/jekyll-doc/github_repo/">Github repo</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/fork_this_template/">Fork this template</a></li>
    
     
    
    
      
      <li><a href="/jekyll-doc/dummytext/">Dummy text</a></li>
    
     
    
    </ul>
    </li>
  



<p class="external">
    <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
</p>

       </div>




            <!-- Content Column -->
            <div class="col-md-9">

                <div class="post-header">
  <h1 class="post-title-main">Conditional logic</h1>
</div>
<div class="post-content">


<div class="post-summary"></div>


<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });


$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>
<!-- add all your links here -->

<!-- Here's a sample link. This stores the link as "conditional_logic" and correlates it to the permalink. To embed it, just use . If you ever need to change the page title or link, you can do so from here. Note that markdown is sensitive to line breaks, so don't break lines between capture tags.-->









<!-- callouts -->















<!-- alerts -->

























<div class="bs-callout bs-callout-warning">
<b>Note:</b> All of the content on this site is under construction. I am mostly working on theme development instead of documentation, so much of the content is acting as filler right now. 
</div>


<p>If you&#39;re a technical writer creating different outputs for different audiences, you can do all of this using a combination of Jekyll&#39;s Liquid markup and values in your configuration file.</p>

<p>Definitely check out <a href="http://docs.shopify.com/themes/liquid-documentation/basics">Liquid&#39;s documentation</a> for more details about how to use operators and other liquid markup. The notes here are a small, somewhat superficial sample from the site.</p>

<h2 id="where-to-store-filtering-values">Where to store filtering values</h2>

<p>You can filter content based on values that you have set in your config file or in a file in your _data folder. If you set the attribute in your config file, you need to restart the Jekyll server to see the changes. If you set the value in a file in your _data folder, you don&#39;t need to restart the server when you make changes. Therefore it&#39;s preferable to store values in your _data file rather than your config file, but do what makes sense to you.</p>

<h2 id="conditional-logic-based-on-config-file-value">Conditional logic based on config file value</h2>

<p>Here&#39;s an example of conditional logic based on a value in your config file. In my config_web.yml file, I have the following:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">audience: web
</code></pre></div>
<p>On a page in my site (it can be html or markdown), I have the following:</p>

<p>This uses simple <code>if-elsif</code> logic to determine what is shown. You access the configuration value through the site namespace, by using <code>site.audience</code>.</p>

<p>Here&#39;s an example of <code>if-else</code> logic inside a list:</p>
<div class="highlight"><pre><code class="language-liquid" data-lang="liquid">To bake a casserole:

1. Gather the ingredients.
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">audience</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;omnivore&quot;</span><span class="w"> </span><span class="p">%}</span>
2. Add in a pound of meat.
<span class="p">{%</span><span class="w"> </span><span class="kr">elsif</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">audience</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;vegetarian&quot;</span><span class="w"> </span><span class="p">%}</span>
3. Add in an extra can of beans.
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
3. Bake in oven for 45 min.
</code></pre></div>
<p>You can also add an <code>else</code> statement to handle all other conditions not handled by the <code>if</code> statements. </p>

<h2 id="or-operator">Or operator</h2>

<p>You can use more advanced Liquid markup for conditional logic, such as an <code>or</code> command. See <a href="http://docs.shopify.com/themes/liquid-documentation/basics/operators">Shopify&#39;s Liquid documentation</a> for more details. </p>

<p>For example, here&#39;s an example using <code>or</code>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">{% if page.tags contains &quot;homepage&quot; or page.tags == &quot;featured&quot; %}
    // run this.
{% endif %}
</code></pre></div>
<h2 id="conditional-logic-based-on-data-file-value">Conditional logic based on data file value</h2>

<p>You can also store values in your _data folder. The way you access the value is a little different. First, create a folder called <code>_data</code>. Next, create a YML file (you might call it options.yml) and put in similarly formatted content as in your config.yml file, such as: </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">audience: web
</code></pre></div>
<p>To access values in the options.yml file in your _data folder, you use the <code>site.data.options</code> namespace, where data is the name of the folder and options is the name of the file.</p>

<p>Here&#39;s an example of conditional logic based on a value in a .yml file inside _data:</p>
<div class="highlight"><pre><code class="language-liquid" data-lang="liquid"><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">data</span><span class="p">.</span><span class="nv">options</span><span class="p">.</span><span class="nv">audience</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;web&quot;</span><span class="w"> </span><span class="p">%}</span>
The web audience should see this...
<span class="p">{%</span><span class="w"> </span><span class="kr">elsif</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">data</span><span class="p">.</span><span class="nv">options</span><span class="p">.</span><span class="nv">audience</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;acme&quot;</span><span class="w"> </span><span class="p">%}</span>
The acme audience should see this ...
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div>
<p>You can also specify a <code>data_source</code> for your data location in your configuration file. Then you aren&#39;t limited to simply using <code>_data</code> to store your data. For example, with the Jekyll-doc theme, I am storing data values in settings/jekyll-docs. There are two files in there: one called options.yml and another called nav.yml. You access the data source through <code>site.data.nav</code> or <code>site.data.options</code> depending on the file name you want to access.</p>

<h2 id="conditional-logic-based-on-page-namespace">Conditional logic based on page namespace</h2>

<p>You can also create conditional logic based on the page namespace. For example, create a page with front matter as follows:</p>
<div class="highlight"><pre><code class="language-liquid" data-lang="liquid">---
layout: page
type: homepage
---
</code></pre></div>
<p>Now in any other file, you can create conditional logic based on the page namespace. For example, in your default.html file in your _layouts folder, you might have the following:</p>
<div class="highlight"><pre><code class="language-liquid" data-lang="liquid"><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;homepage&quot;</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">include</span><span class="w"> </span>masthead.html<span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div>
<h2 id="setting-up-conditional-logic">Setting up conditional logic</h2>

<p>Probably the best approach to conditional filtering when you have multiple outputs for different audiences is to use different configuration files, each which specify their own data sources. </p>

<p>Instead of using <em>config.yml, create configuration files such as config_gizmo.yml and config</em>acme.yml. (You can delete _config.yml).</p>

<p>Note that you can&#39;t use Liquid markup inside a YML file. </p>

<h2 id="excluding-files-of-directories-from-an-output">Excluding files of directories from an output</h2>

<p>By default pages get included in the output, even if they&#39;re not specifically listed in any navigation. To filter out the pages you don&#39;t want, you use the <code>exclude</code> property in your configuration file, like this:</p>
<div class="highlight"><pre><code class="language-liquid" data-lang="liquid"> exclude:
  - content/gizmo
  - content/tutorials
  - readme.md
</code></pre></div>
<p>This will make it so any pages in the content/gizmo or content/tutorials directories are not included. Additionally, the readme.md file will be excluded. </p>

<p>Now when you create content only for one specific audience, you exclude the inapplicable directories. For your acme audience, you might want to exclude all content in your web directory. And vice versa. </p>

<h2 id="page-references">Page references</h2>

<p>Even though you may group content into subfolders, when you reference a page, you reference it by the permalink regardless of the subfolder it happens to be in. So even if you have content/tutorial_link, you link to it with <code>tutorial_link</code> instead of <code>content/tutorial_link</code> because that&#39;s the topic&#39;s permalink. Jekyll iterates through all pages in the page namespace to locate one that contains the matching permalink. Folder structures aren&#39;t that important for pages.</p>

<h2 id="conditional-navigation">Conditional navigation</h2>

<p>You can apply <code>if-else</code> statements to the layout files as well. Suppose you want to have different navigation for two different projects (a likely scenario). You can use the same if-else logic in your default.html file.</p>

<p>First extract the varying navigation element from your default.html file into something like topnav.html. Then use conditional logic to build it: </p>

<p>Now you can define the navigation you want for each project without adding a ton of if-else statements in your code. However, you want to try to separate your content as much as possible from the theme layout so that everything can be controlled through data toggles rather than direct edits to the theme files.</p>


</div>






    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'idrbwjekyll'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




            </div>
        </div>
        <!-- /.row -->

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                     

Site last generated: Feb 18, 2015.
Built with <a href="http://jekyllrb.com/">Jekyll</a> using the <a href="http://tomjohnson1492.github.io/jekyll-doc/">Jekyll-doc theme</a>.



                </div>
            </div>
        </footer>

    </div>
    <!-- /.container -->



 
</body>




</html>

